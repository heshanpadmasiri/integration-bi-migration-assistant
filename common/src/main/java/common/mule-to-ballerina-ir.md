###### This markdown file is AUTO-GENERATED by the test suite. Do not modify manually. ######

# Table of Contents

- [Introduction to Ballerina Intermediate Representation (IR)](#introduction-to-ballerina-intermediate-representation-ir)
- [Mule to Ballerina Conversion Samples (component-wise)](#mule-to-ballerina-conversion-samples-component-wise)
    - [Database](#Database)
    - [Flow](#Flow)
    - [Http Listener](#Http-Listener)
    - [Logger](#Logger)
    - [Object To Json](#Object-To-Json)
    - [Object To String](#Object-To-String)
    - [Set Payload](#Set-Payload)
    - [Sub Flow](#Sub-Flow)
    - [Variable](#Variable)
- [Ballerina Intermediate Representation(IR) JSON Schema](#ballerina-intermediate-representationir-json-schema)

## Introduction to Ballerina Intermediate Representation (IR)
At a high level, Mule XML configuration file is read, and an intermediate representation (
IR) of a Ballerina file is created from it. This IR is then used to generate the Ballerina file. The IR is a Java object model; however, for convenience, the IR is shown below as JSON.

The IR provides a high-level structure of a Ballerina file. It represents import declarations, functions, listener and service declarations, variables, and other constructs in an abstract manner. Representing Ballerina statements, expressions, and types at a granular level would make the IR complex, so we have decided to represent them as strings. However, for statements with high-level abstractions such as if-else statements and do statements, we have used specific representations.

e.g. 
- function call statement
```json
{ "stmt" : "log:printInfo(\"xxx: logger invoked via http end point\");" }
```
- return statement
```json
{ "stmt" : "return self._invokeEndPoint0_();" }
```
- if else statement

```json
{
  "ifCondition": { "expr": "${payload} == \"hello\"}" },
  "ifBody": [
    { "stmt": "string _payload0_ = \"Hi there!\";" },
    { "stmt": "log:printInfo(\"xxx: true condition reached\");" }
  ],
  "elseIfClauses": [],
  "elseBody": [
    { "stmt": "string _payload1_ = \"Goodbye!\";" },
    { "stmt": "log:printInfo(\"xxx: true condition reached\");"}
  ]
}
```
- do statement
```json
{
  "doBody": [
    { "stmt": "log:printInfo(\"xxx: logger invoked via http end point\");" },
    { "stmt": "log:printInfo(\"xxx: end of main flow reached\");" }
  ],
  "onFailClause": {
    "onFailBody": [
      { "stmt": "log:printInfo(\"xxx: exception caught\");" },
      { "stmt": "log:printInfo(\"xxx: end of catch flow reached\");"}
    ]
  }
}
```

- query expression
```json
{ "expr" : "from var char in languageName select char + char;" }
```

- union type
```json
{ "type" : "anydata|http:Response|http:StatusCodeResponse" }
```
## Mule to Ballerina Conversion Samples (component-wise)
Here are several Mule to Ballerina conversion samples, organized by Mule 
component-wise.
The input is a Mule XML configuration file, and the output is a Ballerina file. The intermediate representation (IR) of the output is also provided as JSON.
## Database

- ### Basic Db Select

**Input (basic_db_select.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:db="http://www.mulesoft.org/schema/mule/db" xmlns:json="http://www.mulesoft.org/schema/mule/json" xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd
http://www.mulesoft.org/schema/mule/db http://www.mulesoft.org/schema/mule/db/current/mule-db.xsd
http://www.mulesoft.org/schema/mule/json http://www.mulesoft.org/schema/mule/json/current/mule-json.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <db:mysql-config name="MySQL_Configuration" host="localhost" port="3306" user="root" password="admin123" database="test_db" doc:name="MySQL Configuration"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <db:select config-ref="MySQL_Configuration" doc:name="Database">
            <db:parameterized-query><![CDATA[SELECT * FROM users;]]></db:parameterized-query>
        </db:select>
    </flow>
</mule>

```
**Output (basic_db_select.bal):**
```ballerina
import ballerina/http;
import ballerina/sql;
import ballerinax/mysql;
import ballerinax/mysql.driver as _;

type Record record {
};

mysql:Client MySQL_Configuration = check new ("localhost", "root", "admin123", "test_db", 3306);
listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;

        // database operation
        sql:ParameterizedQuery _dbQuery0_ = `SELECT * FROM users;`;
        stream<Record, sql:Error?> _dbStream0_ = MySQL_Configuration->query(_dbQuery0_);
        Record[] _dbSelect0_ = check from Record _iterator_ in _dbStream0_
            select _iterator_;
        _response_.setPayload(_dbSelect0_.toString());
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      }, {
        "orgName" : "ballerinax",
        "moduleName" : "mysql",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "sql",
        "importPrefix" : null
      }, {
        "orgName" : "ballerinax",
        "moduleName" : "mysql.driver",
        "importPrefix" : "_"
      } ],
      "moduleTypeDefs" : [ {
        "name" : "Record",
        "type" : "record {}"
      } ],
      "moduleVars" : [ {
        "name" : "MySQL_Configuration",
        "type" : "mysql:Client",
        "expr" : {
          "expr" : "check new (\"localhost\", \"root\", \"admin123\", \"test_db\", 3306)"
        }
      } ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "\n\n// database operation\n"
          }, {
            "stmt" : "sql:ParameterizedQuery _dbQuery0_ = `SELECT * FROM users;`;"
          }, {
            "stmt" : "stream<Record, sql:Error?> _dbStream0_= MySQL_Configuration->query(_dbQuery0_);"
          }, {
            "stmt" : "Record[] _dbSelect0_ = check from Record _iterator_ in _dbStream0_ select _iterator_;"
          }, {
            "stmt" : "_response_.setPayload(_dbSelect0_.toString());"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Db Select Query From Template

**Input (db_select_query_from_template.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:db="http://www.mulesoft.org/schema/mule/db" xmlns:json="http://www.mulesoft.org/schema/mule/json" xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd
http://www.mulesoft.org/schema/mule/db http://www.mulesoft.org/schema/mule/db/current/mule-db.xsd
http://www.mulesoft.org/schema/mule/json http://www.mulesoft.org/schema/mule/json/current/mule-json.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <db:mysql-config name="MySQL_Configuration" host="localhost" port="3306" user="root" password="admin123" database="test_db" doc:name="MySQL Configuration"/>
    <db:template-query name="Template_Select_Query" doc:name="Template Query">
        <db:parameterized-query><![CDATA[SELECT * FROM users;]]></db:parameterized-query>
    </db:template-query>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <db:select config-ref="MySQL_Configuration" doc:name="Database">
            <db:template-query-ref name="Template_Select_Query"/>
        </db:select>
    </flow>
</mule>

```
**Output (db_select_query_from_template.bal):**
```ballerina
import ballerina/http;
import ballerina/sql;
import ballerinax/mysql;
import ballerinax/mysql.driver as _;

type Record record {
};

mysql:Client MySQL_Configuration = check new ("localhost", "root", "admin123", "test_db", 3306);
sql:ParameterizedQuery Template_Select_Query = `SELECT * FROM users;`;
listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;

        // database operation
        sql:ParameterizedQuery _dbQuery0_ = Template_Select_Query;
        stream<Record, sql:Error?> _dbStream0_ = MySQL_Configuration->query(_dbQuery0_);
        Record[] _dbSelect0_ = check from Record _iterator_ in _dbStream0_
            select _iterator_;
        _response_.setPayload(_dbSelect0_.toString());
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      }, {
        "orgName" : "ballerinax",
        "moduleName" : "mysql",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "sql",
        "importPrefix" : null
      }, {
        "orgName" : "ballerinax",
        "moduleName" : "mysql.driver",
        "importPrefix" : "_"
      } ],
      "moduleTypeDefs" : [ {
        "name" : "Record",
        "type" : "record {}"
      } ],
      "moduleVars" : [ {
        "name" : "MySQL_Configuration",
        "type" : "mysql:Client",
        "expr" : {
          "expr" : "check new (\"localhost\", \"root\", \"admin123\", \"test_db\", 3306)"
        }
      }, {
        "name" : "Template_Select_Query",
        "type" : "sql:ParameterizedQuery",
        "expr" : {
          "expr" : "`SELECT * FROM users;`"
        }
      } ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "\n\n// database operation\n"
          }, {
            "stmt" : "sql:ParameterizedQuery _dbQuery0_ = Template_Select_Query;"
          }, {
            "stmt" : "stream<Record, sql:Error?> _dbStream0_= MySQL_Configuration->query(_dbQuery0_);"
          }, {
            "stmt" : "Record[] _dbSelect0_ = check from Record _iterator_ in _dbStream0_ select _iterator_;"
          }, {
            "stmt" : "_response_.setPayload(_dbSelect0_.toString());"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

## Flow

- ### Basic Flow

**Input (basic_flow.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/"  doc:name="HTTP" allowedMethods="GET"/>
        <logger message="xxx: logger invoked via http end point" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (basic_flow.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked via http end point");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked via http end point\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Private Flow

**Input (private_flow.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/"  doc:name="HTTP" allowedMethods="GET"/>
        <logger message="xxx: logger invoked via http end point" level="INFO" doc:name="Logger"/>
        <flow-ref name="demoPrivateFlow" doc:name="Flow Reference"/>
        <logger message="xxx: end of main flow" level="INFO" doc:name="Logger"/>
    </flow>
    <flow name="demoPrivateFlow">
        <logger message="xxx: private flow invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (private_flow.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked via http end point");
        demoPrivateFlow(_response_);
        log:printInfo("xxx: end of main flow");
        return _response_;
    }
}

function demoPrivateFlow(http:Response _response_) {
    log:printInfo("xxx: private flow invoked");
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked via http end point\");"
          }, {
            "stmt" : "demoPrivateFlow(_response_);"
          }, {
            "stmt" : "log:printInfo(\"xxx: end of main flow\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ {
        "visibilityQualifier" : null,
        "methodName" : "demoPrivateFlow",
        "parameters" : [ {
          "name" : "_response_",
          "type" : "http:Response",
          "defaultExpr" : null
        } ],
        "returnType" : null,
        "body" : [ {
          "stmt" : "log:printInfo(\"xxx: private flow invoked\");"
        } ]
      } ],
      "Comments" : [ ]
    } ]
  } ]
}

```

## Http Listener

- ### Allowed Resource Default Methods

**Input (allowed_resource_default_methods.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/"  doc:name="HTTP"/>
        <logger message="xxx: logger invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (allowed_resource_default_methods.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    resource function post .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    resource function put .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    resource function delete .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    resource function patch .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    resource function head .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    resource function options .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    resource function trace .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    resource function connect .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        }, {
          "resourceMethodName" : "post",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        }, {
          "resourceMethodName" : "put",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        }, {
          "resourceMethodName" : "delete",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        }, {
          "resourceMethodName" : "patch",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        }, {
          "resourceMethodName" : "head",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        }, {
          "resourceMethodName" : "options",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        }, {
          "resourceMethodName" : "trace",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        }, {
          "resourceMethodName" : "connect",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Allowed Resource Get Method

**Input (allowed_resource_get_method.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="POST" doc:name="HTTP"/>
        <logger message="xxx: logger invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (allowed_resource_get_method.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function post .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "post",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Allowed Resource Multiple Methods

**Input (allowed_resource_multiple_methods.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET, POST, DELETE" doc:name="HTTP"/>
        <logger message="xxx: logger invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (allowed_resource_multiple_methods.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    resource function post .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    resource function delete .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        }, {
          "resourceMethodName" : "post",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        }, {
          "resourceMethodName" : "delete",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Basic Http Listener

**Input (basic_http_listener.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081" basePath="/mule3" doc:name="HTTP Listener Configuration"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/demo" allowedMethods="GET" doc:name="HTTP"/>
        <logger message="xxx: logger invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (basic_http_listener.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get demo() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : "demo",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Empty Absolute And Resource Paths

**Input (empty_absolute_and_resource_paths.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" />
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <logger message="xxx: logger invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (empty_absolute_and_resource_paths.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service / on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Empty Absolute Path

**Input (empty_absolute_path.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/demo" allowedMethods="GET" doc:name="HTTP"/>
        <logger message="xxx: logger invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (empty_absolute_path.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service / on config {
    resource function get demo() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : "demo",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Empty Resource Path

**Input (empty_resource_path.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <logger message="xxx: logger invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (empty_resource_path.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Resource Path Params

**Input (resource_path_params.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/{version}/demo/{id}/" allowedMethods="GET" doc:name="HTTP"/>
        <logger message="xxx: logger invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (resource_path_params.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get [string version]/demo/[string id]() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : "[string version]/demo/[string id]",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Special Characters In Resource Path

**Input (special_characters_in_resource_path.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule-3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/v-1/demo/main-contract/" allowedMethods="GET" doc:name="HTTP"/>
        <logger message="xxx: logger invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (special_characters_in_resource_path.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule\-3 on config {
    resource function get v\-1/demo/main\-contract() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule\\-3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : "v\\-1/demo/main\\-contract",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

## Logger

- ### Basic Logger

**Input (basic_logger.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <logger message="xxx: first logger invoked" level="INFO" doc:name="Logger"/>
        <logger message="xxx: second logger invoked" level="INFO" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (basic_logger.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: first logger invoked");
        log:printInfo("xxx: second logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: first logger invoked\");"
          }, {
            "stmt" : "log:printInfo(\"xxx: second logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Logger Levels

**Input (logger_levels.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <logger message="xxx: INFO level logger invoked" level="INFO" doc:name="Logger"/>
        <logger message="xxx: DEBUG level logger invoked" level="DEBUG" doc:name="Logger"/>
        <logger message="xxx: ERROR level logger invoked" level="ERROR" doc:name="Logger"/>
        <logger message="xxx: WARN level logger invoked" level="WARN" doc:name="Logger"/>
        <logger message="xxx: TRACE level logger invoked" level="TRACE" doc:name="Logger"/>
    </flow>
</mule>

```
**Output (logger_levels.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: INFO level logger invoked");
        log:printDebug("xxx: DEBUG level logger invoked");
        log:printError("xxx: ERROR level logger invoked");
        log:printWarn("xxx: WARN level logger invoked");
        log:printInfo("xxx: TRACE level logger invoked");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: INFO level logger invoked\");"
          }, {
            "stmt" : "log:printDebug(\"xxx: DEBUG level logger invoked\");"
          }, {
            "stmt" : "log:printError(\"xxx: ERROR level logger invoked\");"
          }, {
            "stmt" : "log:printWarn(\"xxx: WARN level logger invoked\");"
          }, {
            "stmt" : "log:printInfo(\"xxx: TRACE level logger invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

## Object To Json

- ### Basic Object To Json

**Input (basic_object_to_json.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:db="http://www.mulesoft.org/schema/mule/db" xmlns:json="http://www.mulesoft.org/schema/mule/json" xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd
http://www.mulesoft.org/schema/mule/db http://www.mulesoft.org/schema/mule/db/current/mule-db.xsd
http://www.mulesoft.org/schema/mule/json http://www.mulesoft.org/schema/mule/json/current/mule-json.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <db:mysql-config name="MySQL_Configuration" host="localhost" port="3306" user="root" password="admin123" database="test_db" doc:name="MySQL Configuration"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <db:select config-ref="MySQL_Configuration" doc:name="Database">
            <db:parameterized-query><![CDATA[SELECT * FROM users;]]></db:parameterized-query>
        </db:select>
        <json:object-to-json-transformer doc:name="Object to JSON"/>
    </flow>
</mule>

```
**Output (basic_object_to_json.bal):**
```ballerina
import ballerina/http;
import ballerina/sql;
import ballerinax/mysql;
import ballerinax/mysql.driver as _;

type Record record {
};

mysql:Client MySQL_Configuration = check new ("localhost", "root", "admin123", "test_db", 3306);
listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;

        // database operation
        sql:ParameterizedQuery _dbQuery0_ = `SELECT * FROM users;`;
        stream<Record, sql:Error?> _dbStream0_ = MySQL_Configuration->query(_dbQuery0_);
        Record[] _dbSelect0_ = check from Record _iterator_ in _dbStream0_
            select _iterator_;
        _response_.setPayload(_dbSelect0_.toString());

        // json transformation
        json _to_json0_ = _dbSelect0_.toJson();
        _response_.setPayload(_to_json0_);
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      }, {
        "orgName" : "ballerinax",
        "moduleName" : "mysql",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "sql",
        "importPrefix" : null
      }, {
        "orgName" : "ballerinax",
        "moduleName" : "mysql.driver",
        "importPrefix" : "_"
      } ],
      "moduleTypeDefs" : [ {
        "name" : "Record",
        "type" : "record {}"
      } ],
      "moduleVars" : [ {
        "name" : "MySQL_Configuration",
        "type" : "mysql:Client",
        "expr" : {
          "expr" : "check new (\"localhost\", \"root\", \"admin123\", \"test_db\", 3306)"
        }
      } ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "\n\n// database operation\n"
          }, {
            "stmt" : "sql:ParameterizedQuery _dbQuery0_ = `SELECT * FROM users;`;"
          }, {
            "stmt" : "stream<Record, sql:Error?> _dbStream0_= MySQL_Configuration->query(_dbQuery0_);"
          }, {
            "stmt" : "Record[] _dbSelect0_ = check from Record _iterator_ in _dbStream0_ select _iterator_;"
          }, {
            "stmt" : "_response_.setPayload(_dbSelect0_.toString());"
          }, {
            "stmt" : "\n\n// json transformation\n"
          }, {
            "stmt" : "json _to_json0_ = _dbSelect0_.toJson();"
          }, {
            "stmt" : "_response_.setPayload(_to_json0_);"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

## Object To String

- ### Basic Object To String

**Input (basic_object_to_string.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:db="http://www.mulesoft.org/schema/mule/db" xmlns:json="http://www.mulesoft.org/schema/mule/json" xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd
http://www.mulesoft.org/schema/mule/db http://www.mulesoft.org/schema/mule/db/current/mule-db.xsd
http://www.mulesoft.org/schema/mule/json http://www.mulesoft.org/schema/mule/json/current/mule-json.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <db:mysql-config name="MySQL_Configuration" host="localhost" port="3306" user="root" password="admin123" database="test_db" doc:name="MySQL Configuration"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <db:select config-ref="MySQL_Configuration" doc:name="Database">
            <db:parameterized-query><![CDATA[SELECT * FROM users;]]></db:parameterized-query>
        </db:select>
        <object-to-string-transformer doc:name="Object to String"/>
    </flow>
</mule>

```
**Output (basic_object_to_string.bal):**
```ballerina
import ballerina/http;
import ballerina/sql;
import ballerinax/mysql;
import ballerinax/mysql.driver as _;

type Record record {
};

mysql:Client MySQL_Configuration = check new ("localhost", "root", "admin123", "test_db", 3306);
listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;

        // database operation
        sql:ParameterizedQuery _dbQuery0_ = `SELECT * FROM users;`;
        stream<Record, sql:Error?> _dbStream0_ = MySQL_Configuration->query(_dbQuery0_);
        Record[] _dbSelect0_ = check from Record _iterator_ in _dbStream0_
            select _iterator_;
        _response_.setPayload(_dbSelect0_.toString());

        // string transformation
        string _to_string0_ = _dbSelect0_.toString();
        _response_.setPayload(_to_string0_);
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      }, {
        "orgName" : "ballerinax",
        "moduleName" : "mysql",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "sql",
        "importPrefix" : null
      }, {
        "orgName" : "ballerinax",
        "moduleName" : "mysql.driver",
        "importPrefix" : "_"
      } ],
      "moduleTypeDefs" : [ {
        "name" : "Record",
        "type" : "record {}"
      } ],
      "moduleVars" : [ {
        "name" : "MySQL_Configuration",
        "type" : "mysql:Client",
        "expr" : {
          "expr" : "check new (\"localhost\", \"root\", \"admin123\", \"test_db\", 3306)"
        }
      } ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "\n\n// database operation\n"
          }, {
            "stmt" : "sql:ParameterizedQuery _dbQuery0_ = `SELECT * FROM users;`;"
          }, {
            "stmt" : "stream<Record, sql:Error?> _dbStream0_= MySQL_Configuration->query(_dbQuery0_);"
          }, {
            "stmt" : "Record[] _dbSelect0_ = check from Record _iterator_ in _dbStream0_ select _iterator_;"
          }, {
            "stmt" : "_response_.setPayload(_dbSelect0_.toString());"
          }, {
            "stmt" : "\n\n// string transformation\n"
          }, {
            "stmt" : "string _to_string0_ = _dbSelect0_.toString();"
          }, {
            "stmt" : "_response_.setPayload(_to_string0_);"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

## Set Payload

- ### Basic Set Payload

**Input (basic_set_payload.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <set-payload value="Hello world!" doc:name="Set Payload"/>
    </flow>
</mule>

```
**Output (basic_set_payload.bal):**
```ballerina
import ballerina/http;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        _response_.setPayload("Hello world!");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "_response_.setPayload(\"Hello world!\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

- ### Multiple Set Payloads

**Input (multiple_set_payloads.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <set-payload value="First payload" doc:name="Set Payload"/>
        <set-payload value="Second payload" doc:name="Set Payload"/>
        <set-payload value="Third payload" doc:name="Set Payload"/>
    </flow>
</mule>

```
**Output (multiple_set_payloads.bal):**
```ballerina
import ballerina/http;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        _response_.setPayload("First payload");
        _response_.setPayload("Second payload");
        _response_.setPayload("Third payload");
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "_response_.setPayload(\"First payload\");"
          }, {
            "stmt" : "_response_.setPayload(\"Second payload\");"
          }, {
            "stmt" : "_response_.setPayload(\"Third payload\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

## Sub Flow

- ### Basic Sub Flow

**Input (basic_sub_flow.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/"  doc:name="HTTP" allowedMethods="GET"/>
        <logger message="xxx: logger invoked via http end point" level="INFO" doc:name="Logger"/>
        <flow-ref name="demoSub_Flow" doc:name="Flow Reference"/>
        <logger message="xxx: logger after flow reference invoked" level="INFO" doc:name="Logger"/>
    </flow>
    <sub-flow name="demoSub_Flow">
        <logger message="xxx: sub flow logger invoked" level="INFO" doc:name="Logger"/>
        <set-payload value="This is a sub flow set-payload call" doc:name="Set Payload"/>
    </sub-flow>
</mule>

```
**Output (basic_sub_flow.bal):**
```ballerina
import ballerina/http;
import ballerina/log;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        log:printInfo("xxx: logger invoked via http end point");
        demoSub_Flow(_response_);
        log:printInfo("xxx: logger after flow reference invoked");
        return _response_;
    }
}

function demoSub_Flow(http:Response _response_) {
    log:printInfo("xxx: sub flow logger invoked");
    _response_.setPayload("This is a sub flow set-payload call");
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "log",
        "importPrefix" : null
      }, {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger invoked via http end point\");"
          }, {
            "stmt" : "demoSub_Flow(_response_);"
          }, {
            "stmt" : "log:printInfo(\"xxx: logger after flow reference invoked\");"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ {
        "visibilityQualifier" : null,
        "methodName" : "demoSub_Flow",
        "parameters" : [ {
          "name" : "_response_",
          "type" : "http:Response",
          "defaultExpr" : null
        } ],
        "returnType" : null,
        "body" : [ {
          "stmt" : "log:printInfo(\"xxx: sub flow logger invoked\");"
        }, {
          "stmt" : "_response_.setPayload(\"This is a sub flow set-payload call\");"
        } ]
      } ],
      "Comments" : [ ]
    } ]
  } ]
}

```

## Variable

- ### Basic Set Variable

**Input (basic_set_variable.xml):**
```xml
<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
      xmlns:spring="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd
http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/tracking http://www.mulesoft.org/schema/mule/ee/tracking/current/mule-tracking-ee.xsd">
    <http:listener-config name="config" host="0.0.0.0" port="8081"  doc:name="HTTP Listener Configuration" basePath="mule3"/>
    <flow name="demoFlow">
        <http:listener config-ref="config" path="/" allowedMethods="GET" doc:name="HTTP"/>
        <set-variable variableName="name" value="lochana" doc:name="Variable"/>
        <set-variable variableName="age" value="29" doc:name="Variable"/>
    </flow>
</mule>

```
**Output (basic_set_variable.bal):**
```ballerina
import ballerina/http;

listener http:Listener config = new (8081, {host: "0.0.0.0"});

service /mule3 on config {
    resource function get .() returns http:Response|error {
        return self._invokeEndPoint0_();
    }

    private function _invokeEndPoint0_() returns http:Response|error {
        http:Response _response_ = new;
        string name = "lochana";
        string age = "29";
        return _response_;
    }
}

```
**Intermediate Representation (IR):**
```json
{
  "defaultPackage" : {
    "org" : "muleDemoProject",
    "name" : "muleDemoProject",
    "version" : "0.1.0"
  },
  "modules" : [ {
    "name" : "muleDemoModule",
    "textDocuments" : [ {
      "documentName" : "muleDemoTextDocument",
      "imports" : [ {
        "orgName" : "ballerina",
        "moduleName" : "http",
        "importPrefix" : null
      } ],
      "moduleTypeDefs" : [ ],
      "moduleVars" : [ ],
      "listeners" : [ {
        "type" : "HTTP",
        "name" : "config",
        "port" : "8081",
        "config" : {
          "host" : "0.0.0.0"
        }
      } ],
      "services" : [ {
        "basePath" : "/mule3",
        "listenerRefs" : [ "config" ],
        "resources" : [ {
          "resourceMethodName" : "get",
          "path" : ".",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "return self._invokeEndPoint0_();"
          } ]
        } ],
        "functions" : [ {
          "visibilityQualifier" : "private",
          "methodName" : "_invokeEndPoint0_",
          "parameters" : [ ],
          "returnType" : "http:Response|error",
          "body" : [ {
            "stmt" : "http:Response _response_ = new;"
          }, {
            "stmt" : "string name = \"lochana\";"
          }, {
            "stmt" : "string age = \"29\";"
          }, {
            "stmt" : "return _response_;"
          } ]
        } ],
        "pathParams" : [ ],
        "queryParams" : [ ]
      } ],
      "functions" : [ ],
      "Comments" : [ ]
    } ]
  } ]
}

```

## Ballerina Intermediate Representation(IR) JSON Schema
```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "BallerinaModel",
  "type": "object",
  "properties": {
    "defaultPackage": {
      "type": "object",
      "properties": {
        "org": { "type": "string" },
        "name": { "type": "string" },
        "version": { "type": "string" }
      },
      "required": ["org", "name", "version"]
    },
    "modules": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "textDocuments": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "documentName": { "type": "string" },
                "imports": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "orgName": { "type": "string" },
                      "moduleName": { "type": "string" },
                      "importPrefix": { "type": "string" }
                    },
                    "required": ["orgName", "moduleName"]
                  }
                },
                "moduleTypeDefs": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": { "type": "string" },
                      "type": { "type": "string" }
                    },
                    "required": ["name", "type"]
                  }
                },
                "moduleVars": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "name": { "type": "string" },
                      "type": { "type": "string" },
                      "expr": { "type": "string" }
                    },
                    "required": ["name", "type"]
                  }
                },
                "listeners": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "type": { "type": "string", "enum": ["HTTP"] },
                      "name": { "type": "string" },
                      "port": { "type": "string" },
                      "config": {
                        "type": "object",
                        "additionalProperties": { "type": "string" }
                      }
                    },
                    "required": ["type", "name", "port"]
                  }
                },
                "services": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "basePath": { "type": "string" },
                      "listenerRefs": {
                        "type": "array",
                        "items": { "type": "string" }
                      },
                      "resources": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "resourceMethodName": { "type": "string" },
                            "path": { "type": "string" },
                            "parameters": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "name": { "type": "string" },
                                  "type": { "type": "string" },
                                  "defaultExpr": { "type": "string" }
                                },
                                "required": ["name", "type"]
                              }
                            },
                            "returnType": { "type": "string" },
                            "body": {
                              "type": "array",
                              "items": { "$ref": "#/definitions/Statement" }
                            }
                          },
                          "required": ["resourceMethodName", "path", "parameters", "body"]
                        }
                      },
                      "functions": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "visibilityQualifier": { "type": "string" },
                            "methodName": { "type": "string" },
                            "parameters": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "name": { "type": "string" },
                                  "type": { "type": "string" },
                                  "defaultExpr": { "type": "string" }
                                },
                                "required": ["name", "type"]
                              }
                            },
                            "returnType": { "type": "string" },
                            "body": {
                              "type": "array",
                              "items": { "$ref": "#/definitions/Statement" }
                            }
                          },
                          "required": ["methodName", "parameters", "body"]
                        }
                      },
                      "pathParams": {
                        "type": "array",
                        "items": { "type": "string" }
                      },
                      "queryParams": {
                        "type": "array",
                        "items": { "type": "string" }
                      }
                    },
                    "required": ["basePath", "listenerRefs", "resources", "functions", "pathParams", "queryParams"]
                  }
                },
                "functions": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "visibilityQualifier": { "type": "string" },
                      "methodName": { "type": "string" },
                      "parameters": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "name": { "type": "string" },
                            "type": { "type": "string" },
                            "defaultExpr": { "type": "string" }
                          },
                          "required": ["name", "type"]
                        }
                      },
                      "returnType": { "type": "string" },
                      "body": {
                        "type": "array",
                        "items": { "$ref": "#/definitions/Statement" }
                      }
                    },
                    "required": ["methodName", "parameters", "body"]
                  }
                },
                "Comments": {
                  "type": "array",
                  "items": { "type": "string" }
                }
              },
              "required": ["documentName", "imports", "moduleTypeDefs", "moduleVars", "listeners", "services", "functions", "Comments"]
            }
          }
        },
        "required": ["name", "textDocuments"]
      }
    }
  },
  "definitions": {
    "Statement": {
      "type": "object",
      "oneOf": [
        { "type": "object", "properties": { "stmt": { "type": "string" } }, "required": ["stmt"] },
        {
          "type": "object",
          "properties": {
            "ifCondition": { "type": "string" },
            "ifBody": { "type": "array", "items": { "$ref": "#/definitions/Statement" } },
            "elseIfClauses": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "condition": { "type": "string" },
                  "elseIfBody": { "type": "array", "items": { "$ref": "#/definitions/Statement" } }
                },
                "required": ["condition", "elseIfBody"]
              }
            },
            "elseBody": { "type": "array", "items": { "$ref": "#/definitions/Statement" } }
          },
          "required": ["ifCondition", "ifBody", "elseIfClauses", "elseBody"]
        },
        {
          "type": "object",
          "properties": {
            "doBody": { "type": "array", "items": { "$ref": "#/definitions/Statement" } },
            "onFailClause": {
              "type": "object",
              "properties": {
                "onFailBody": { "type": "array", "items": { "$ref": "#/definitions/Statement" } }
              },
              "required": ["onFailBody"]
            }
          },
          "required": ["doBody", "onFailClause"]
        }
      ]
    }
  }
}
